webpackJsonp([0],{"/CIM":function(n,t,e){"use strict";var s=e("YaEn");t.a={props:{name:String},data:function(){return{list:[]}},created:function(){this.init()},methods:{click:function(n){"name"in n.target.dataset&&this.$router.push({name:n.target.dataset.name})},init:function(){this.list=s.b.filter(function(n){return n.menu}).map(function(n){return{key:n.name,name:n.menu}})}}}},"/Fe1":function(n,t){},"1lsj":function(n,t,e){"use strict";var s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"page"},[e("div",{staticClass:"hz-title"},[n._v("\n    bus监听事件的销毁\n  ")]),n._v(" "),e("div",{staticClass:"hz-btn",on:{click:function(t){n.toggle("child")}}},[n._v(n._s(n.child?"销毁子组件":"创建子组件"))]),n._v(" "),e("div",{staticClass:"hz-btn",on:{click:function(t){n.toggle("showCode")}}},[n._v(n._s(n.showCode?"收起源码":"展示源码"))]),n._v(" "),e("div",{staticClass:"hz-btn",on:{click:n.emit}},[n._v("点击触发事件")]),n._v(" "),n.child?e("child"):n._e(),n._v(" "),n._m(0,!1,!1),n._v(" "),e("pre",{directives:[{name:"hz-pre",rawName:"v-hz-pre"},{name:"show",rawName:"v-show",value:n.showCode,expression:"showCode"}]},[n._v("    "),e("code",{pre:!0,attrs:{class:"html"}},[n._v("\n      <template lang=\"html\">\n        <div>\n          我是子组件\n          {{text}}\n        </div>\n      </template>\n\n      <script>\n      import bus from '../../utils/bus'\n      export default {\n        data () {\n          return {\n            text: ''\n          }\n        },\n        created () {\n          bus.$on('change', (v) => {\n            console.log(v)\n            this.text = v\n          })\n        },\n        beforeDestroy () {\n          console.log('销毁中。。。')\n          // bus.$off()\n          // bus.$off('change')\n          bus.$off(['change'])\n        }\n      }\n      <\/script>\n    ")]),n._v("\n  ")])],1)},a=[function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{pre:!0,attrs:{class:"hz-con"}},[n._v("\n    我们知道vue在销毁实例时会解除事件监听，但是这个主要是指实例本身的事件，那么意味着其他事件并不会解除绑定，如原生addEventListener及bus等。"),e("br"),n._v("\n    但是vue提供了$off方法来取消事件绑定，而bus正好是一个vue实例，因此可以在销毁相关钩子中取消掉，参数为事件名或事件名列表(部分版本有bug)或无（无参数解除所有事件）"),e("br"),n._v("\n    当然其实我们也可以使用$once方式来注册事件，这样就避免手动销毁，前提是事件仅需要触发一次 "),e("br"),n._v("\n    第二个参数是监听函数\n  ")])}],i={render:s,staticRenderFns:a};t.a=i},"1tMX":function(n,t,e){"use strict";function s(n){e("D74j")}var a=e("ef7+"),i=e("wx/o"),o=e("XAIM"),c=s,r=o(a.a,i.a,!1,c,null,null);t.a=r.exports},"5Qg3":function(n,t){},"5XIL":function(n,t,e){"use strict";var s=e("D7oL");t.a={data:function(){return{show:!1,showCode:!1}},methods:{toggle:function(n){this[n]=!this[n]}},components:{Test:s.a}}},"7k82":function(n,t,e){"use strict";var s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"content"},[e("div",{staticClass:"head"},[n._v("目录")]),n._v(" "),e("div",{staticClass:"list-con",on:{click:n.click}},n._l(n.list,function(t){return e("div",{key:t.key,class:["item",t.key===n.name?"active":""],attrs:{"data-name":t.key}},[n._v("\n      "+n._s(t.name)+"\n    ")])})),n._v(" "),e("div",{staticClass:"foot"},[n._v("© by hz")])])},a=[],i={render:s,staticRenderFns:a};t.a=i},"8iXz":function(n,t){},"9Zb5":function(n,t,e){"use strict";function s(n){e("TIVy")}var a=e("Qgp+"),i=e("tdX9"),o=e("XAIM"),c=s,r=o(a.a,i.a,!1,c,null,null);t.a=r.exports},"9hTn":function(n,t){},"D7/Q":function(n,t,e){"use strict";function s(n){e("JhGv")}var a=e("R3CH"),i=e("h0GN"),o=e("XAIM"),c=s,r=o(a.a,i.a,!1,c,"data-v-f6d25c1a",null);t.a=r.exports},D74j:function(n,t){},D7oL:function(n,t,e){"use strict";function s(n){e("5Qg3")}var a=e("fpgW"),i=e("LCKz"),o=e("XAIM"),c=s,r=o(a.a,i.a,!1,c,null,null);t.a=r.exports},ILLF:function(n,t,e){"use strict";function s(n){e("SuFg")}var a=e("WeVQ"),i=e("1lsj"),o=e("XAIM"),c=s,r=o(a.a,i.a,!1,c,null,null);t.a=r.exports},IOz7:function(n,t,e){"use strict";var s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"page"},[e("div",{staticClass:"hz-title"},[n._v("sync修饰符双向数据绑定")]),n._v(" "),e("div",{staticClass:"hz-btn",on:{click:function(t){n.toggle("show")}}},[n._v("更改show值")]),n._v(" "),e("div",{staticClass:"hz-btn",on:{click:function(t){n.toggle("showCode")}}},[n._v(n._s(n.showCode?"收起源码":"展开源码"))]),n._v(" "),e("div",{staticClass:"hz-con"},[n._v("\n    当属性添加了sync修饰符，vue会为其注册一个update:propName事件，无需父组件显式注册。子组件想更改该prop只需要触发该事件即可，整体比非表单v－model更为灵活，同样不违背单向数据流原则\n  ")]),n._v(" "),e("test",{attrs:{show:n.show},on:{"update:show":function(t){n.show=t}}}),n._v(" "),e("pre",{directives:[{name:"hz-pre",rawName:"v-hz-pre"},{name:"show",rawName:"v-show",value:n.showCode,expression:"showCode"}]},[n._v("    "),e("code",{staticClass:"html"},[n._v("\n      <template lang=\"html\">\n        <div v-show='show'>\n          父组件传递属性，并使用sync修饰符，子组件通过emit update:prop 事件来更改值\n        </div>\n      </template>\n\n      <script>\n      export default {\n        props: {\n          show: {\n            type: Boolean,\n            default: false\n          }\n        },\n        watch: {\n          show: {\n            immediate: true,\n            handler (v) {\n              if (v) {\n                setTimeout(() => {\n                  this.$emit('update:show', false)\n                }, 1000)\n              }\n            }\n          }\n        }\n      }\n      <\/script>\n    ")]),n._v("\n  ")])],1)},a=[],i={render:s,staticRenderFns:a};t.a=i},JhGv:function(n,t){},LCKz:function(n,t,e){"use strict";var s=function(){var n=this,t=n.$createElement;return(n._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:n.show,expression:"show"}]},[n._v("\n  父组件传递属性，并使用sync修饰符，子组件通过emit update:prop 事件来更改值\n")])},a=[],i={render:s,staticRenderFns:a};t.a=i},M93x:function(n,t,e){"use strict";function s(n){e("ZkvU")}var a=e("T4DX"),i=e("pehP"),o=e("XAIM"),c=s,r=o(a.a,i.a,!1,c,null,null);t.a=r.exports},NHnr:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("LKLR"),a=e("M93x"),i=e("YaEn");s.a.directive("hzPre",{inserted:function(n){try{window.hljs.highlightBlock(n)}catch(n){console.log(n)}}}),s.a.config.productionTip=!1,new s.a({el:"#app",router:i.a,template:"<App/>",components:{App:a.a}})},"Qgp+":function(n,t,e){"use strict";var s=e("xipm");t.a={data:function(){return{text:""}},created:function(){var n=this;s.a.$on("change",function(t){console.log(t),n.text=t}),s.a.$on("change",function(n){console.log("hh")}),s.a.$once("change",function(n){console.log(n,321)})},beforeDestroy:function(){console.log("销毁中。。。"),s.a.$off("change")}}},R3CH:function(n,t,e){"use strict";var s=e("1tMX");t.a={data:function(){return{show:!1,code:!1}},methods:{toggle:function(){this.show=!this.show},toggleCode:function(){this.code=!this.code}},components:{Test:s.a}}},SuFg:function(n,t){},T4DX:function(n,t,e){"use strict";var s=e("zIkb");t.a={name:"app",data:function(){return{curName:""}},watch:{$route:{immediate:!0,handler:function(n){this.curName=n.name}}},components:{SideMenu:s.a}}},TGn9:function(n,t,e){"use strict";var s=function(){var n=this,t=n.$createElement;n._self._c;return n._m(0,!1,!1)},a=[function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"page"},[n._v("\n  ${num}\n  "),e("div",{staticClass:"hz-con"},[n._v("\n    别纳闷，delimiters选项是只能使用在无需编译的vue中即非.vue文件中，可以改变默认的双括号作为纯文本插入分隔符\n  ")])])}],i={render:s,staticRenderFns:a};t.a=i},TIVy:function(n,t){},WeVQ:function(n,t,e){"use strict";var s=e("9Zb5"),a=e("xipm");t.a={data:function(){return{child:!0,showCode:!1}},methods:{toggle:function(n){this[n]=!this[n]},emit:function(){a.a.$emit("change",123)}},components:{Child:s.a}}},YaEn:function(n,t,e){"use strict";e.d(t,"b",function(){return u}),e.d(t,"a",function(){return l});var s=e("LKLR"),a=e("1eSk"),i=e("D7/Q"),o=e("k9wq"),c=e("oFha"),r=e("ILLF");s.a.use(a.a);var u=[{path:"/",name:"model",menu:"非表单使用v-model",component:i.a},{path:"/sync",name:"sync",menu:"sync双向绑定",component:c.a},{path:"/bus",name:"bus",menu:"bus监听事件的销毁",component:r.a},{path:"/delimites",name:"delimiter",menu:"自定义插入符",component:o.a},{path:"*",redirect:"/"}],l=new a.a({routes:u})},ZkvU:function(n,t){},"ef7+":function(n,t,e){"use strict";t.a={model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},watch:{show:{immediate:!0,handler:function(n){var t=this;n&&setTimeout(function(){t.$emit("change",!1)},1e3)}}}}},fpgW:function(n,t,e){"use strict";t.a={props:{show:{type:Boolean,default:!1}},watch:{show:{immediate:!0,handler:function(n){var t=this;n&&setTimeout(function(){t.$emit("update:show",!1)},1e3)}}}}},h0GN:function(n,t,e){"use strict";var s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"page"},[e("div",{staticClass:"hz-title"},[n._v("非表单组件使用v-model")]),n._v(" "),e("div",{staticClass:"hz-btn",on:{click:n.toggle}},[n._v("更改model值")]),n._v(" "),e("div",{staticClass:"hz-btn",on:{click:n.toggleCode}},[n._v(n._s(n.code?"收起源码":"展开源码"))]),n._v(" "),e("div",{staticClass:"hz-con"},[n._v("\n    v-model实际除了绑定表单外也可以作为组件内使用，将model注册一个prop及事件，该属性不需要父组件来更改，子组件即可更新，但是是通过emit事件的方式更改，因此并没有违背单向数据流原则\n  ")]),n._v(" "),e("test",{model:{value:n.show,callback:function(t){n.show=t},expression:"show"}}),n._v(" "),e("pre",{directives:[{name:"hz-pre",rawName:"v-hz-pre"},{name:"show",rawName:"v-show",value:n.code,expression:"code"}]},[n._v("    "),e("code",{staticClass:"html"},[n._v("\n      <template lang=\"html\">\n        <div v-show='show'>\n          通过v-model来自己触发注册事件自己更改值\n        </div>\n      </template>\n      <script>\n      export default {\n        model: {\n          prop: 'show',\n          event: 'change'\n        },\n        props: {\n          show: {\n            type: Boolean,\n            default: false\n          }\n        },\n        watch: {\n          show: {\n            immediate: true,\n            handler (v) {\n              if (v) {\n                setTimeout(() => {\n                  this.$emit('change', false)\n                }, 1000)\n              }\n            }\n          }\n        }\n      }\n    <\/script>\n    ")]),n._v("\n  ")])],1)},a=[],i={render:s,staticRenderFns:a};t.a=i},k9wq:function(n,t,e){"use strict";function s(n){e("9hTn")}var a=e("q8QP"),i=e("TGn9"),o=e("XAIM"),c=s,r=o(a.a,i.a,!1,c,"data-v-31e27d9c",null);t.a=r.exports},oFha:function(n,t,e){"use strict";function s(n){e("/Fe1")}var a=e("5XIL"),i=e("IOz7"),o=e("XAIM"),c=s,r=o(a.a,i.a,!1,c,null,null);t.a=r.exports},pehP:function(n,t,e){"use strict";var s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"app"}},[e("side-menu",{attrs:{name:n.curName}}),n._v(" "),e("div",{staticClass:"hz-content"},[e("router-view")],1)],1)},a=[],i={render:s,staticRenderFns:a};t.a=i},q8QP:function(n,t,e){"use strict";t.a={delimiters:["${","}"],data:function(){return{num:0}}}},tdX9:function(n,t,e){"use strict";var s=function(){var n=this,t=n.$createElement;return(n._self._c||t)("div",[n._v("\n  我是子组件\n  "+n._s(n.text)+"\n")])},a=[],i={render:s,staticRenderFns:a};t.a=i},"wx/o":function(n,t,e){"use strict";var s=function(){var n=this,t=n.$createElement;return(n._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:n.show,expression:"show"}]},[n._v("\n  通过v-model来自己触发注册事件自己更改值\n")])},a=[],i={render:s,staticRenderFns:a};t.a=i},xipm:function(n,t,e){"use strict";var s=e("LKLR"),a=new s.a;t.a=a},zIkb:function(n,t,e){"use strict";function s(n){e("8iXz")}var a=e("/CIM"),i=e("7k82"),o=e("XAIM"),c=s,r=o(a.a,i.a,!1,c,"data-v-156ed0af",null);t.a=r.exports}},["NHnr"]);
//# sourceMappingURL=app.c8ecfa0f45ccf859c49d.js.map