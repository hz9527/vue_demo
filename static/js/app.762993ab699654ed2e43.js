webpackJsonp([0],{"/CIM":function(t,n,e){"use strict";var s=e("YaEn");n.a={props:{name:String},data:function(){return{list:[]}},created:function(){this.init()},methods:{click:function(t){"name"in t.target.dataset&&this.$router.push({name:t.target.dataset.name})},init:function(){this.list=s.b.filter(function(t){return t.menu}).map(function(t){return{key:t.name,name:t.menu}})}}}},"/Fe1":function(t,n){},"1lsj":function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page"},[e("div",{staticClass:"hz-title"},[t._v("\n    bus监听事件的销毁\n  ")]),t._v(" "),e("div",{staticClass:"hz-btn",on:{click:function(n){t.toggle("child")}}},[t._v(t._s(t.child?"销毁子组件":"创建子组件"))]),t._v(" "),e("div",{staticClass:"hz-btn",on:{click:function(n){t.toggle("showCode")}}},[t._v(t._s(t.showCode?"收起源码":"展示源码"))]),t._v(" "),e("div",{staticClass:"hz-btn",on:{click:t.emit}},[t._v("点击触发事件")]),t._v(" "),t.child?e("child"):t._e(),t._v(" "),t._m(0,!1,!1),t._v(" "),e("pre",{directives:[{name:"hz-pre",rawName:"v-hz-pre"},{name:"show",rawName:"v-show",value:t.showCode,expression:"showCode"}]},[t._v("    "),e("code",{pre:!0,attrs:{class:"html"}},[t._v("\n      <template lang=\"html\">\n        <div>\n          我是子组件\n          {{text}}\n        </div>\n      </template>\n\n      <script>\n      import bus from '../../utils/bus'\n      export default {\n        data () {\n          return {\n            text: ''\n          }\n        },\n        created () {\n          bus.$on('change', (v) => {\n            console.log(v)\n            this.text = v\n          })\n        },\n        beforeDestroy () {\n          console.log('销毁中。。。')\n          // bus.$off()\n          // bus.$off('change')\n          bus.$off(['change'])\n        }\n      }\n      <\/script>\n    ")]),t._v("\n  ")])],1)},a=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{pre:!0,attrs:{class:"hz-con"}},[t._v("\n    我们知道vue在销毁实例时会解除事件监听，但是这个主要是指实例本身的事件，那么意味着其他事件并不会解除绑定，如原生addEventListener及bus等。"),e("br"),t._v("\n    但是vue提供了$off方法来取消事件绑定，而bus正好是一个vue实例，因此可以在销毁相关钩子中取消掉，参数为事件名或事件名列表(部分版本有bug)或无（无参数解除所有事件）"),e("br"),t._v("\n    当然其实我们也可以使用$once方式来注册事件，这样就避免手动销毁，前提是事件仅需要触发一次 "),e("br"),t._v("\n    第二个参数是监听函数\n  ")])}],i={render:s,staticRenderFns:a};n.a=i},"1tMX":function(t,n,e){"use strict";function s(t){e("D74j")}var a=e("ef7+"),i=e("wx/o"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,null,null);n.a=c.exports},"590S":function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",[t._v("\n  "+t._s(t.text)+"\n")])},a=[],i={render:s,staticRenderFns:a};n.a=i},"5Qg3":function(t,n){},"5XIL":function(t,n,e){"use strict";var s=e("D7oL");n.a={data:function(){return{show:!1,showCode:!1}},methods:{toggle:function(t){this[t]=!this[t]}},components:{Test:s.a}}},"7k82":function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content"},[e("div",{staticClass:"head"},[t._v("目录")]),t._v(" "),e("div",{staticClass:"list-con",on:{click:t.click}},t._l(t.list,function(n){return e("div",{key:n.key,class:["item",n.key===t.name?"active":""],attrs:{"data-name":n.key}},[t._v("\n      "+t._s(n.name)+"\n    ")])})),t._v(" "),e("div",{staticClass:"foot"},[t._v("© by hz")])])},a=[],i={render:s,staticRenderFns:a};n.a=i},"8iXz":function(t,n){},"9Zb5":function(t,n,e){"use strict";function s(t){e("TIVy")}var a=e("Qgp+"),i=e("tdX9"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,null,null);n.a=c.exports},"9hTn":function(t,n){},BK5r:function(t,n,e){"use strict";function s(t){e("XER1")}var a=e("Ks3w"),i=e("iPmL"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,"data-v-325c1906",null);n.a=c.exports},"D7/Q":function(t,n,e){"use strict";function s(t){e("JhGv")}var a=e("R3CH"),i=e("h0GN"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,"data-v-f6d25c1a",null);n.a=c.exports},D74j:function(t,n){},D7oL:function(t,n,e){"use strict";function s(t){e("5Qg3")}var a=e("fpgW"),i=e("LCKz"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,null,null);n.a=c.exports},DqgU:function(t,n){},ILLF:function(t,n,e){"use strict";function s(t){e("SuFg")}var a=e("WeVQ"),i=e("1lsj"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,null,null);n.a=c.exports},IOz7:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page"},[e("div",{staticClass:"hz-title"},[t._v("sync修饰符双向数据绑定")]),t._v(" "),e("div",{staticClass:"hz-btn",on:{click:function(n){t.toggle("show")}}},[t._v("更改show值")]),t._v(" "),e("div",{staticClass:"hz-btn",on:{click:function(n){t.toggle("showCode")}}},[t._v(t._s(t.showCode?"收起源码":"展开源码"))]),t._v(" "),e("div",{staticClass:"hz-con"},[t._v("\n    当属性添加了sync修饰符，vue会为其注册一个update:propName事件，无需父组件显式注册。子组件想更改该prop只需要触发该事件即可，整体比非表单v－model更为灵活，同样不违背单向数据流原则\n  ")]),t._v(" "),e("test",{attrs:{show:t.show},on:{"update:show":function(n){t.show=n}}}),t._v(" "),e("pre",{directives:[{name:"hz-pre",rawName:"v-hz-pre"},{name:"show",rawName:"v-show",value:t.showCode,expression:"showCode"}]},[t._v("    "),e("code",{staticClass:"html"},[t._v("\n      <template lang=\"html\">\n        <div v-show='show'>\n          父组件传递属性，并使用sync修饰符，子组件通过emit update:prop 事件来更改值\n        </div>\n      </template>\n\n      <script>\n      export default {\n        props: {\n          show: {\n            type: Boolean,\n            default: false\n          }\n        },\n        watch: {\n          show: {\n            immediate: true,\n            handler (v) {\n              if (v) {\n                setTimeout(() => {\n                  this.$emit('update:show', false)\n                }, 1000)\n              }\n            }\n          }\n        }\n      }\n      <\/script>\n    ")]),t._v("\n  ")])],1)},a=[],i={render:s,staticRenderFns:a};n.a=i},JhGv:function(t,n){},Ks3w:function(t,n,e){"use strict";var s=e("Zxwe");n.a={data:function(){return{text:"test",showCode:!1}},components:{child:s.a}}},LCKz:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._v("\n  父组件传递属性，并使用sync修饰符，子组件通过emit update:prop 事件来更改值\n")])},a=[],i={render:s,staticRenderFns:a};n.a=i},M93x:function(t,n,e){"use strict";function s(t){e("ZkvU")}var a=e("T4DX"),i=e("pehP"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,null,null);n.a=c.exports},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("LKLR"),a=e("M93x"),i=e("YaEn");s.a.directive("hzPre",{inserted:function(t){try{window.hljs.highlightBlock(t)}catch(t){console.log(t)}}}),s.a.config.productionTip=!1,new s.a({el:"#app",router:i.a,template:"<App/>",components:{App:a.a}})},"Qgp+":function(t,n,e){"use strict";var s=e("xipm");n.a={data:function(){return{text:""}},created:function(){var t=this;s.a.$on("change",function(n){console.log(n),t.text=n}),s.a.$on("change",function(t){console.log("hh")}),s.a.$once("change",function(t){console.log(t,321)})},beforeDestroy:function(){console.log("销毁中。。。"),s.a.$off("change")}}},R3CH:function(t,n,e){"use strict";var s=e("1tMX");n.a={data:function(){return{show:!1,code:!1}},methods:{toggle:function(){this.show=!this.show},toggleCode:function(){this.code=!this.code}},components:{Test:s.a}}},SuFg:function(t,n){},T4DX:function(t,n,e){"use strict";var s=e("zIkb");n.a={name:"app",data:function(){return{curName:""}},watch:{$route:{immediate:!0,handler:function(t){this.curName=t.name}}},components:{SideMenu:s.a}}},TGn9:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0,!1,!1)},a=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page"},[t._v("\n  ${num}\n  "),e("div",{staticClass:"hz-con"},[t._v("\n    别纳闷，delimiters选项是只能使用在无需编译的vue中即非.vue文件中，可以改变默认的双括号作为纯文本插入分隔符\n  ")])])}],i={render:s,staticRenderFns:a};n.a=i},TIVy:function(t,n){},WeVQ:function(t,n,e){"use strict";var s=e("9Zb5"),a=e("xipm");n.a={data:function(){return{child:!0,showCode:!1}},methods:{toggle:function(t){this[t]=!this[t]},emit:function(){a.a.$emit("change",123)}},components:{Child:s.a}}},XER1:function(t,n){},YaEn:function(t,n,e){"use strict";e.d(n,"b",function(){return l}),e.d(n,"a",function(){return v});var s=e("LKLR"),a=e("1eSk"),i=e("D7/Q"),o=e("k9wq"),r=e("oFha"),c=e("ILLF"),u=e("BK5r");s.a.use(a.a);var l=[{path:"/",name:"model",menu:"非表单使用v-model",component:i.a},{path:"/sync",name:"sync",menu:"sync双向绑定",component:r.a},{path:"/bus",name:"bus",menu:"bus监听事件的销毁",component:c.a},{path:"/delimites",name:"delimiter",menu:"自定义插入符",component:o.a},{path:"/inheritattrs",name:"inheritattrs",menu:"默认属性",component:u.a},{path:"*",redirect:"/"}],v=new a.a({routes:l})},ZkvU:function(t,n){},Zxwe:function(t,n,e){"use strict";function s(t){e("DqgU")}var a=e("iQD/"),i=e("590S"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,null,null);n.a=c.exports},"ef7+":function(t,n,e){"use strict";n.a={model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},watch:{show:{immediate:!0,handler:function(t){var n=this;t&&setTimeout(function(){n.$emit("change",!1)},1e3)}}}}},fpgW:function(t,n,e){"use strict";n.a={props:{show:{type:Boolean,default:!1}},watch:{show:{immediate:!0,handler:function(t){var n=this;t&&setTimeout(function(){n.$emit("update:show",!1)},1e3)}}}}},h0GN:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page"},[e("div",{staticClass:"hz-title"},[t._v("非表单组件使用v-model")]),t._v(" "),e("div",{staticClass:"hz-btn",on:{click:t.toggle}},[t._v("更改model值")]),t._v(" "),e("div",{staticClass:"hz-btn",on:{click:t.toggleCode}},[t._v(t._s(t.code?"收起源码":"展开源码"))]),t._v(" "),e("div",{staticClass:"hz-con"},[t._v("\n    v-model实际除了绑定表单外也可以作为组件内使用，将model注册一个prop及事件，该属性不需要父组件来更改，子组件即可更新，但是是通过emit事件的方式更改，因此并没有违背单向数据流原则\n  ")]),t._v(" "),e("test",{model:{value:t.show,callback:function(n){t.show=n},expression:"show"}}),t._v(" "),e("pre",{directives:[{name:"hz-pre",rawName:"v-hz-pre"},{name:"show",rawName:"v-show",value:t.code,expression:"code"}]},[t._v("    "),e("code",{staticClass:"html"},[t._v("\n      <template lang=\"html\">\n        <div v-show='show'>\n          通过v-model来自己触发注册事件自己更改值\n        </div>\n      </template>\n      <script>\n      export default {\n        model: {\n          prop: 'show',\n          event: 'change'\n        },\n        props: {\n          show: {\n            type: Boolean,\n            default: false\n          }\n        },\n        watch: {\n          show: {\n            immediate: true,\n            handler (v) {\n              if (v) {\n                setTimeout(() => {\n                  this.$emit('change', false)\n                }, 1000)\n              }\n            }\n          }\n        }\n      }\n    <\/script>\n    ")]),t._v("\n  ")])],1)},a=[],i={render:s,staticRenderFns:a};n.a=i},iPmL:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page"},[e("div",{staticClass:"hz-title"},[t._v("\n    默认属性\n  ")]),t._v(" "),e("div",{staticClass:"hz-btn",on:{click:function(){return t.showCode=!t.showCode}}},[t._v("\n    "+t._s(t.showCode?"收起源码":"展示源码")+"\n  ")]),t._v(" "),t._m(0,!1,!1),t._v(" "),e("child",{attrs:{"data-text":t.text,test:"1",text:t.text}}),t._v(" "),e("pre",{directives:[{name:"hz-pre",rawName:"v-hz-pre"},{name:"show",rawName:"v-show",value:t.showCode,expression:"showCode"}]},[t._v("    "),e("code",{pre:!0,attrs:{class:"js"}},[t._v("\n      {\n        props: {\n          text: String\n        },\n        inheritAttrs: false,\n        beforeCreate () {\n          console.log(this.$arrts, 'beforeCreate') // undefined\n        },\n        created () {\n          console.log(this.$attrs, 'created') // attrs created\n        },\n        mounted () {\n          console.log(this.$attrs, this._props)\n        }\n      }\n    ")]),t._v("\n  ")])],1)},a=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{pre:!0,attrs:{class:"hz-con"}},[t._v("\n    我们知道vue会将子组件绑定的属性如果该属性存在于props列表中那么子组件渲染的节点上是不会绑定该属性，反之就会显式绑定在节点上。 "),e("br"),t._v("\n    例如，我们给子组件绑定了data-text test text三个属性，但是子组件props中只注册了text那么剩下两个属性会显式出现在渲染的节点上。 "),e("br"),t._v("\n    其实不论你是否需要它们显示出现在渲染后的节点上，它们都会在$attrs中，如果你不希望用户看到它们，可以在子组件中将inheritAttrs设置为false，在子组件中通过$attrs访问即可 "),e("br"),t._v("\n    并且在created钩子里就可以访问 "),e("br"),t._v("\n    思考：如果一些属性不需要响应式，是否考虑使用属性？其次一些不愿意显式出现在dom上的属性是不是考虑inheritAttrs设置？\n  ")])}],i={render:s,staticRenderFns:a};n.a=i},"iQD/":function(t,n,e){"use strict";n.a={props:{text:String},inheritAttrs:!1,beforeCreate:function(){console.log(this.$arrts,"beforeCreate")},created:function(){console.log(this.$attrs,"created")},mounted:function(){console.log(this.$attrs,this._props)}}},k9wq:function(t,n,e){"use strict";function s(t){e("9hTn")}var a=e("q8QP"),i=e("TGn9"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,"data-v-31e27d9c",null);n.a=c.exports},oFha:function(t,n,e){"use strict";function s(t){e("/Fe1")}var a=e("5XIL"),i=e("IOz7"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,null,null);n.a=c.exports},pehP:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("side-menu",{attrs:{name:t.curName}}),t._v(" "),e("div",{staticClass:"hz-content"},[e("router-view")],1)],1)},a=[],i={render:s,staticRenderFns:a};n.a=i},q8QP:function(t,n,e){"use strict";n.a={delimiters:["${","}"],data:function(){return{num:0}}}},tdX9:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",[t._v("\n  我是子组件\n  "+t._s(t.text)+"\n")])},a=[],i={render:s,staticRenderFns:a};n.a=i},"wx/o":function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._v("\n  通过v-model来自己触发注册事件自己更改值\n")])},a=[],i={render:s,staticRenderFns:a};n.a=i},xipm:function(t,n,e){"use strict";var s=e("LKLR"),a=new s.a;n.a=a},zIkb:function(t,n,e){"use strict";function s(t){e("8iXz")}var a=e("/CIM"),i=e("7k82"),o=e("XAIM"),r=s,c=o(a.a,i.a,!1,r,"data-v-156ed0af",null);n.a=c.exports}},["NHnr"]);
//# sourceMappingURL=app.762993ab699654ed2e43.js.map